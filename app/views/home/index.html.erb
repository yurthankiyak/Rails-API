<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eğitim Platformu Yönetim Paneli</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; background-color: #f4f4f9; color: #333; }
        header { background-color: #2c3e50; color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; }
        h1 { margin: 0; font-size: 1.5rem; }
        nav { display: flex; gap: 1rem; }
        nav button { background: none; border: none; color: #ecf0f1; cursor: pointer; font-size: 1rem; padding: 0.5rem 1rem; transition: background 0.3s; border-radius: 4px; }
        nav button:hover, nav button.active { background-color: #34495e; color: #fff; }
        
        main { padding: 2rem; max-width: 1200px; margin: 0 auto; }
        .section { display: none; }
        .section.active { display: block; animation: fadeIn 0.5s; }
        
        table { width: 100%; border-collapse: collapse; background: white; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border-radius: 8px; overflow: hidden; margin-top: 1rem; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #3498db; color: white; font-weight: 600; text-transform: uppercase; font-size: 0.85rem; }
        tr:hover { background-color: #f1f1f1; }
        
        .card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 1rem; }
        .card { background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); border-left: 5px solid #3498db; }
        .card h3 { margin-top: 0; color: #2c3e50; }
        .card p { color: #666; font-size: 0.9rem; }
        .stat { font-size: 2rem; font-weight: bold; color: #3498db; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<header>
    <h1>🎓 Eğitim Platformu</h1>
    <nav>
        <button onclick="showSection('dashboard', this)" class="active">Özet</button>
        <button onclick="showSection('users', this)">Öğrenciler</button>
        <button onclick="showSection('courses', this)">Kurslar</button>
        <button onclick="showSection('subjects', this)">Konular</button>
    </nav>
</header>

<main>
    <!-- DASHBOARD SECTION -->
    <div id="dashboard" class="section active">
        <h2>Genel Bakış</h2>
        <div class="card-grid">
            <div class="card" style="border-color: #e74c3c;">
                <h3>Toplam Öğrenci</h3>
                <div class="stat"><%= @users.count %></div>
            </div>
            <div class="card" style="border-color: #2ecc71;">
                <h3>Aktif Kurslar</h3>
                <div class="stat"><%= @courses.count %></div>
            </div>
            <div class="card" style="border-color: #f39c12;">
                <h3>Konu Başlıkları</h3>
                <div class="stat"><%= @subjects.count %></div>
            </div>
        </div>
        <br>
        <div class="card">
            <h3>Sistem Durumu</h3>
            <p>API Bağlantısı: <span style="color: green; font-weight: bold;">Aktif (SSR)</span></p>
            <p>Veritabanı: SQLite3</p>
            <p>Rails Versiyonu: 8.1.1</p>
        </div>
    </div>

    <!-- USERS SECTION -->
    <div id="users" class="section">
        <h2>Öğrenci Listesi</h2>
        <table id="users-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>İsim</th>
                    <th>Email</th>
                    <th>Kayıt Tarihi</th>
                </tr>
            </thead>
            <tbody>
                <% @users.each do |user| %>
                    <tr>
                        <td><%= user.id %></td>
                        <td><%= user.name %></td>
                        <td><%= user.email %></td>
                        <td><%= user.created_at.strftime("%d.%m.%Y") %></td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    </div>

    <!-- COURSES SECTION -->
    <div id="courses" class="section">
        <h2>Kurs Listesi</h2>
        <table id="courses-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Başlık</th>
                    <th>Açıklama</th>
                    <th>Konu</th>
                </tr>
            </thead>
            <tbody>
                <% @courses.each do |course| %>
                    <tr>
                        <td><%= course.id %></td>
                        <td><%= course.title %></td>
                        <td><%= course.description %></td>
                        <td><%= course.subject ? course.subject.name : "Belirtilmemiş" %></td>
                    </tr>
                <% end %>
            </tbody>
        </table>
    </div>

    <!-- SUBJECTS SECTION -->
    <div id="subjects" class="section">
        <h2>Konular</h2>
        <div id="subjects-grid" class="card-grid">
            <% @subjects.each do |subject| %>
                <div class="card">
                    <h3><%= subject.name %></h3>
                    <p><%= subject.description %></p>
                </div>
            <% end %>
        </div>
    </div>
</main>

<script>
    function showSection(id, btn) {
        document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        
        if(btn) {
            document.querySelectorAll('nav button').forEach(el => el.classList.remove('active'));
            btn.classList.add('active');
        }
    }
</script>

</body>
</html>